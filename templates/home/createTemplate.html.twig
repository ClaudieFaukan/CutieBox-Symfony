<html lang="en">

<head>
    <title>CutieBox </title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.1.1/css/bootstrap.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>

    <link rel="icon" type="image/x-icon" href="{{asset('img/favicon.ico')}}" />
    <!-- Font Awesome icons (free version)-->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.2/css/all.min.css" integrity="sha512-HK5fgLBL+xu6dm/Ii3z4xhlSUyZgTT9tuc/hSrtw6uzJOvgRr2a9jyxxT1ely+B+xFAmJKVSTbpM/CuL7qxO8w==" crossorigin="anonymous" />
    <!-- Google fonts-->
    <link href="//db.onlinewebfonts.com/c/a4b0c7481bf5f3e12ae73efaed581108?family=Azo+Sans" rel="stylesheet" type="text/css" />
    <link href="http://fonts.cdnfonts.com/css/sweatpants" rel="stylesheet" type="text/css" />
    <link href="http://fonts.cdnfonts.com/css/apple-chancery" rel="stylesheet" type="text/css" />
    <link href="http://fonts.cdnfonts.com/css/arizonia" rel="stylesheet" type="text/css" />
    <link href="http://fonts.cdnfonts.com/css/kg-eyes-wide-open" rel="stylesheet" type="text/css" />
    <link href="http://fonts.cdnfonts.com/css/aliment-personal-use" rel="stylesheet" type="text/css" />
    <link href="http://fonts.cdnfonts.com/css/futura-condensed-pt" rel="stylesheet" type="text/css" />
    <link href="http://fonts.cdnfonts.com/css/kg-eyes-wide-open" rel="stylesheet" type="text/css" />
    <link href="http://fonts.cdnfonts.com/css/alex-brush" rel="stylesheet" type="text/css" />
    <link href="http://fonts.cdnfonts.com/css/abril-fatface" rel="stylesheet" type="text/css" />
    <link href="http://fonts.cdnfonts.com/css/montserrat" rel="stylesheet" type="text/css" />
    <link href="http://fonts.cdnfonts.com/css/bodoni-mt" rel="stylesheet" type="text/css" />
    <link href="http://fonts.cdnfonts.com/css/allura" rel="stylesheet" type="text/css" />
    <link href="http://fonts.cdnfonts.com/css/azoft-sans" rel="stylesheet" type="text/css" />
    <link href="http://fonts.cdnfonts.com/css/itc-avant-garde-gothic-std" rel="stylesheet" type="text/css" />
    <link href="http://fonts.cdnfonts.com/css/savoye-let" rel="stylesheet" type="text/css" />
    <link href="//db.onlinewebfonts.com/c/00017f121da250715a5292e82ae513dd?family=Dulcelin" rel="stylesheet" type="text/css" />
    <link href="//db.onlinewebfonts.com/c/3962ec3bda82344439b29d9a3d54d42e?family=KG+Second+Chances+Solid" rel="stylesheet" type="text/css" />
    <link href="//db.onlinewebfonts.com/c/34fda6c89d58beefe9725f4a836a61c6?family=MangoSign" rel="stylesheet" type="text/css" />
    <link href="//db.onlinewebfonts.com/c/f911f835f02082f05ca12bff323935d3?family=MVOldstyleSC" rel="stylesheet" type="text/css" />
    <link href="//db.onlinewebfonts.com/c/d03165bd677535fe8da7479e26b13180?family=AzoSansUberW01-Regular" rel="stylesheet" type="text/css" />
    <link href="//db.onlinewebfonts.com/c/c29eeac74621043ccc6ced82768e9e22?family=Nickainley" rel="stylesheet" type="text/css" />
    <link href="//db.onlinewebfonts.com/c/6e370f7fff8a1807e3151ab0f9884740?family=ITCAvantGardeGothicW07-Md" rel="stylesheet" type="text/css" />
    <link href="//db.onlinewebfonts.com/c/031b39819119af82244ec6f2d5bfa513?family=Courgette" rel="stylesheet" type="text/css" />
    <link href="//db.onlinewebfonts.com/c/56262f5812e45ea4ccfacf69c0bce350?family=Motion+Picture+Personal+Use" rel="stylesheet" type="text/css" />
    <link href="//db.onlinewebfonts.com/c/c456f7a4385268846d64eea06d56d928?family=chalkboard" rel="stylesheet" type="text/css" />
    <link href="http://fonts.cdnfonts.com/css/avenir-next-lt-pro" rel="stylesheet" type="text/css" />
    <link href="http://fonts.cdnfonts.com/css/itc-avant-garde-gothic-std" rel="stylesheet" type="text/css" />
    <link href="http://fonts.cdnfonts.com/css/obelixpro-2" rel="stylesheet" type="text/css" />
    <link href="http://fonts.cdnfonts.com/css/lobster-two" rel="stylesheet" type="text/css" />
    <link href="http://fonts.cdnfonts.com/css/balham" rel="stylesheet" type="text/css" /> 
    <link href="//db.onlinewebfonts.com/c/d5ef9853ed03c9852ef7d2927a42d519?family=Hearth+Stone" rel="stylesheet" type="text/css" />

    <!-- Core theme CSS (includes Bootstrap)-->
    <link href="{{asset('css/styles.css')}}" rel="stylesheet" />
    <!--EMOJI STYLE -->

    <link href="//netdna.bootstrapcdn.com/twitter-bootstrap/2.3.2/css/bootstrap-combined.min.css" rel="stylesheet" id="bootstrap-css">
    <script src="//netdna.bootstrapcdn.com/twitter-bootstrap/2.3.2/js/bootstrap.min.js"></script>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/fabric.js/4.3.1/fabric.min.js"></script>

    <link rel="stylesheet" href="{{asset('css/emojionearea.min.css')}}">
    <script src="{{asset('js/emojionearea.min.js')}}"></script>
    <link href="{{asset('css/font.css')}}" rel="stylesheet" />
</head>


<body id="page-top">
    <!-- Masthead-->
    <header class="bg-primary text-white text-center">

        <div class="container d-flex align-items-center flex-column">
            <!-- Masthead Heading-->
            <h1 class="masthead-heading text-uppercase" style="font-size: 4em">CutieBox
            </h1>
            <!-- Icon Divider-->
            <div class="divider-custom divider-light">
                <div class="divider-custom-line"></div>
                <div class="divider-custom-icon">
                    <i class="fab fa-fw fa-instagram"></i>
                </div>
                <div class="divider-custom-line"></div>
            </div>
            <!-- Masthead Subheading-->
            <p class="masthead-subheading font-weight-light mb-0" style="font-size: 2em;">Votre photobooth nomade</p>
        </div>
    </header>
    <!-- Portfolio Section-->
    <section class="page-section portfolio" id="portfolio">
        <div class="container text-center col-sm-12">
            <!-- Portfolio Grid Items-->
            <div class="row justify-content-center" style="display:block">
                <!-- TITRE STEP -->
                <h2>Personnaliser votre template</h2>
                <!-- Icon Divider-->
                <div class="divider-custom">
                    <div class="divider-custom-line"></div>
                    <div class="divider-custom-icon">
                        <i class="fas fa-star"></i>
                    </div>
                    <div class="divider-custom-line"></div>
                </div>
            </div>

            <div class="row">
            
                <!-- POLICE -->
                <span><i class="fas fa-font"></i> : Police </span>
                <select name="Police" id="police" title="Choix de la police">
                    <option value="Courier" id="Courier">Courier</option>
                    <option value="sans-serif" id="sans-serif">sans-serif</option>
                    <option value="Arials" id="Arials">Arial</option>
                    <option value="Arial Black" id="ArialBlack">Arial Narrow Bold</option>
                    <option value="Lucida Sans" id="LucidaSans">Lucida Sans</option>
                    <option value="Comic Sans MS" id="Comic-Sans-MS">Comic Sans MS</option>
                    <option value="American Typewriter, serif" id="American-Typewriter">American Typewriter</option>
                    <option value="Apple Chancery" id="Apple-Chancery">Apple Chancery</option>
                    <option value="Snell Roundhand" id="Snell-Roundhand">Snell Roundhand</option>
                    <option value="sweatpants" id="sweatpants">Sweat Pants</option>
                    <option value="balham" id="balham">Balham</option>
                    <option value="lobster two" id="lobster-two">lobster-two</option>
                    <option value="ObelixPro" id="ObelixPro">Obelix</option>
                    <option value="ITC Avant Garde Gothic Std" id="ITC-Avant-Garde-Gothic-Std">ITC Avant Garde Gothic Std</option>
                    <option value="Avenir Next LT Pro" id="Avenir-Next-LT-Pro">Avenir Next LT Pro</option> 
                    <option value="chalkboard" id="chalkboard">chalkboard</option> 
                    <option value="Motion Picture Personal Use" id="Motion-Picture-Personal-Use">Motion Picture Personal Use</option> 
                    <option value="Courgette" id="Courgette" >Courgette</option>
                    <option value="ITCAvantGardeGothicW07-Md" id="ITCAvantGardeGothicW07-Md">ITCAvantGardeGothicW07-Md</option>
                    <option value="Nickainley" id="Nickainley">Nickainley</option>
                    <option value="AzoSansUberW01-Regular" id="AzoSansUberW01-Regular">AzoSansUberW01-Regular</option> 
                    <option value="MVOldstyleSC" id="MVOldstyleSC">MVOldstyleSC</option>  
                    <option value="MangoSign" id="MangoSign">MangoSign</option> 
                    <option value="KG Second Chances Solid" id="KG-Second-Chances-Solid">KG Second Chances Solid</option> 
                    <option value="Dulcelin" id="Dulcelin">Dulcelin</option>
                    <option value="Savoye LET" id="Savoye-LET">Savoye LET</option> 
                    <option value="ITC Avant Garde Gothic Std" id="ITC-Avant-Garde-Gothic-Std">ITC Avant Garde Gothic Std</option>
                    <option value="Azoft Sans" id="Azoft-Sans">Azoft Sans</option>
                    <option value="Allura" id="Allura">Allura</option>
                    <option value="Bodoni MT" id="Bodoni-MT">Bodoni MT</option>
                    <option value="Montserrat" id="Montserrat">Montserrat</option>
                    <option value="Abril Fatface" id="Abril-Fatface">Abril Fatface</option>
                    <option value="Alex Brush" id="Alex-Brush">Alex Brush</option>
                    <option value="KG Eyes Wide Open" id="KG-Eyes-Wide-Open">KG Eyes Wide Open</option>
                    <option value="Futura Condensed PT" id="Futura-Condensed-PT">Futura Condensed PT</option>
                    <option value="Aliment PERSONAL USE" id="Aliment-PERSONAL-USE">Aliment PERSONAL USE</option>
                    <option value="KG Eyes Wide Open" id="KG-Eyes-Wide-Open" >KG Eyes Wide Open</option>
                    <option value="Arizonia" id="Arizonia">Arizonia</option>
                    <option value="Apple Chancery" id="Apple-Chancery" >Apple Chancery</option>
                    <option value="Hearth Stone" id="Hearth-Stone" >Hearth Stone</option>
                </select>
                <!--    SIZE POLICE -->
                <label><i class="fas fa-text-height"></i> : Taille</label>
                <select name="sizePolice" id="sizePolice" title="Choix de la taille de police">
                    <option value="20">20</option>
                    <option value="30">30</option>
                    <option value="40">40</option>
                    <option value="50">50</option>
                    <option value="60">60</option>
                    <option value="70">70</option>
                    <option value="80">80</option>
                    <option value="90">90</option>
                    <option value="100">100</option>
                    <option value="120">120</option>
                </select>
                <!-- TEMPLATE -->
                <span><i class="far fa-image"></i> : Template</span>
                <select name="Template" id="template" title="Choix du template">
                    <option value="1">Template 1</option>
                    <option value="2">Template 2</option>
                    <option value="3">Template 3</option>
                    <option value="4">Template 4</option>
                    <option value="5">Template 5</option>
                </select>
                <!-- FONT COLOR -->
                <span> <i class="fas fa-palette"></i> : Couleur Texte </span>
                <input type="color" id="color" style="width: 5%;" title="Couleur du texte">

                <!-- BOUTON FONT -->
                <div class="btn-toolbar">
                    <div class="btn-group">
                        <button class="btn" data-original-title="Bold - Ctrl+B" id="bold" title="Mettre en gras"><i class="icon-bold"></i></button>
                        <button class="btn" data-original-title="Italic - Ctrl+I" id="italic" title="Mettre en italique"><i class="icon-italic"></i></button>
                        <button class="btn" data-original-title="underline" id="underline" title="Souligner le texte"><i class="fas fa-underline"></i></button>
                        <button class="btn" data-original-title="strikethrought" id="strikestrough" title="Barrer le texte"><i class="fas fa-strikethrough"></i></button>
                        <button class="btn" data-original-title="highlight" id="highlight" title="Surligner le texte"><i class="fas fa-highlighter"></i></button>
                    </div>
                    <div id="inputColorHighlight" style="display: none;">
                        <span> Couleur de surbrillance </span>
                        <input type="color" id="colorHighlight" title="Choix de la couleur de surbrillance">
                        <span>Effacer surbrillance</span>
                        <button class="btn" data-original-title="remove-highlight" id="removeHighlight" alt="effacer la surbrillance" title="Effacer la surbrillance"><i class="fas fa-eraser"></i></button>
                    </div>
                </div>

            </div> 
         </div>
         <!-- TEXT AREA -->
         <textarea id="example1" placeholder="Entrer votre texte içi..🤩👍" style="font-weight: bold"></textarea>

         <!-- BOUTONS DE VALIDATION-->
        <div class="row mx-auto">
            <button id="ok" title="Prévisualiser le résultat">Personalise text </button>
            <button class="btn btn-primary" title="Valider définitivement"> Valider votre personnalisation</button>
            <button id="download" title="télécharger le fichier png">Telecharger fichier</button>
        </div>

        <center> 
            <h1>Personnalisation de votre theme </h1> 
            <b>Laisser votre imagination faire le reste</b> 
            <canvas id="canvas"></canvas> 
        </center> 


        <script type="text/javascript">
        /******** ADD EMOJI IN TEXTAREA *******/
          $(document).ready(function() {
            $("#example1").emojioneArea();
          });
        </script>

        
<script> 
    /**********     CREATION CANVA      *************/
    // Create a new instace of Canvas 
    var canvas = new fabric.Canvas("canvas",{
        width: 886,
        height:1205,
        backgroundImage: "../../templateCutie/01_MONICA&CHANDLER/01_CUTIEBOX_PORTRAIT.png"
    }); 
    // Create a new Textbox instance by default
    var text = new fabric.Textbox('Déplacer votre texte en cliquant içi',{
        left:350,
        top:10,
        width:600
    })
    canvas.add(text); 

/************   PERSONALISATION TEXTE PAR USER  ************/


    //DEFINITION DES OPTIONS POSSIBLE
    var options = {
        fontWeight: "normal",
        fontSize: 40,
        fontFamily: "sans-serif",
        underline : false,
        linethrough : false,
        overline : false,
        fontStyle: 'normal',
        textBackgroundColor: false,
        fill:"black"

    };

    // *********    CLICK OK    ******************//

    //Ajoute le text & emoji sur le canva
    $("#ok").on('click',()=>{
        var valueText=document.getElementById("example1").value;
        canvas.remove(text);
        canvas.remove(valueText);
        text = new fabric.Textbox(valueText,options);
        canvas.add(text);
    })

    // *********    CLICK BOLD  ******************// 
    var selectBold=0;
    var bold;
    $("#bold").on("click",()=>{

        if (selectBold == 0){
            bold="bold";
            selectBold=1;
        }else{
            bold = "normal";
            selectBold=0;
        } 
        //modifie les options 
        options["fontWeight"] = bold;
        //modifie le pré rendu dans le textare
        $(".emojionearea-editor").css("font-weight",bold)
    });   
    /************   CLICK ITALIC    ***************/
    var selectItalic=0;
    var italic;
    $("#italic").on("click",()=>{ 

        if(selectItalic == 0){
            italic = "italic";
            selectItalic = 1;
        }else{
            italic="normal";
            selectItalic = 0;
        }
        //modifie les options 
        options["fontStyle"] = italic;
        //modifie le pré rendu dans le textare
        $(".emojionearea-editor").css("font-style",italic);
    });
    /*********      CLICK UNDERLINE     ******************/
    var selectUnderline =0;
    var underline;
    $("#underline").on("click",()=>{

        if(selectUnderline == 0){
            underline = true;
            selectUnderline = 1;
        }else{
            underline =false;
            selectUnderline = 0;
        }
        //modifie les options 
        options["underline"] = underline;
        //modifie le pré rendu dans le textare, ajout d'un if car css accepte pas true/false text deocration
        underline == true ? $(".emojionearea-editor").css("text-decoration","underline") : $(".emojionearea-editor").css("text-decoration","none")
    });
    /***********    STRIKETHROUGH   **************/
    var selectStrike = 0;
    var strike;
    $("#strikestrough").on("click",()=>{
        if(selectStrike == 0){
            strike = true
            selectStrike = 1;
        }else{
            selectStrike=0;
            strike = false
        }
        options["linethrough"] = strike;
        //modifie le pré rendu dans le textare, ajout d'un if car css accepte pas true/false text-deocration-line
        strike == true ? $(".emojionearea-editor").css("text-decoration-line","line-through") : $(".emojionearea-editor").css("text-decoration-line","none")
    });

    /************ SIZE POLICE *********************/
    $("#sizePolice").on("change",(event)=>{
        pt = event.target.value;
        options["fontSize"] = pt;
    });
    /************ CHANGE POLICE *********************/  
    $("#police").on("change", (event)=>{ // au changement du select
        police = event.target.value; 
        options["fontFamily"] = police;
        $(".emojionearea-editor").css("font-family", police);
    });

    /***********    COLOR POLICE    *******************/
        $("#color").on('change',(event)=>{
            color = event.target.value;
            console.log(color);
            options["fill"] = color;
            $(".emojionearea-editor").css("color",color); 
        });
    /**************     HIGHLIGHT    ************************/
    var highlightActive = false;
    //Active bouton & show/hide pallette de couleur
    $("#highlight").on("click",()=>{
        if(highlightActive == false){
            $("#inputColorHighlight").show();
            highlightActive = true;
        }else{
            $("#inputColorHighlight").hide();
            highlightActive = false;
        }
    });
    //Definition de la couleur de surbrillance
    $("#colorHighlight").on("change",(event)=>{
        color = event.target.value;
        options["textBackgroundColor"] = color;
        $(".emojionearea-editor").css("background-color",color);
    })
    // Remove surbrillance
    $("#removeHighlight").on("click",()=>{
        options["textBackgroundColor"] = false;
        $(".emojionearea-editor").css("background-color","transparent");
    });

</script> 

        <!-- TODO issue lors de clique italic & bold devient transparent ?!-->


            <script>

                const download = document.getElementById('download');

                download.addEventListener('click', function(e) {
                var link = document.createElement('a');
                link.download = 'download.png';
                link.href = canvas.toDataURL();
                link.click();
                link.delete;
                });
            </script>
         
    </section>
    <!-- Footer-->
    <footer class="footer text-center">
        <div class="container">
            <div class="row">
                <!-- Footer Social Icons-->
                <div class="col-lg-4 mb-5 mb-lg-0 mx-auto">
                    <h4 class="text-uppercase mb-4">Suivez nous</h4>
                    <a class="btn btn-outline-light btn-social mx-1" href="https://www.facebook.com/emotions.agency/zm">
                        <i class="fab fa-fw fa-facebook-f"></i>
                    </a>
                    <a class="btn btn-outline-light btn-social mx-1" href="https://www.youtube.com/channel/UCmWavkLncApzIiwKThO3g3w">
                        <i class="fab fa-fw fa-youtube"></i>
                    </a>
                    <a class="btn btn-outline-light btn-social mx-1" href="https://www.instagram.com/emotionsagency/">
                        <i class="fab fa-fw fa-instagram"></i>
                    </a>
                    <a class="btn btn-outline-light btn-social mx-1" href="https://emotions-agency.com/">
                        <i class="fab fa-fw fa-dribbble"></i>
                    </a>
                </div>
            </div>
        </div>
    </footer>
    <!-- Copyright Section-->
    <div class="copyright py-4 text-center text-white">
        <div class="container">
            <small>Copyright © Emotions Agency 2020</small>
            <a href="./mentionslegales.html"> Mentions légale<a>
        </div>

    </div>
    <!-- Scroll to Top Button (Only visible on small and extra-small screen sizes)-->
    <div class="scroll-to-top d-lg-none position-fixed">
        <a class="js-scroll-trigger d-block text-center text-white rounded" href="#page-top">
            <i class="fa fa-chevron-up"></i>
        </a>
    </div>

</body>

</html>